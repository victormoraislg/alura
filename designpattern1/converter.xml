use strict;
use warnings;

open ( my $input_xml, "<", '/home/victormoraislg/Documentos/contratos.xml' ) or die $!;
my $loca = "";
print "ID;CODIGO;ATIVO;DT_CONTRATO;DT_INICIO;DT_FIM;PRAZO;DT_INICIO_PERIODO;DT_FIM_PERIODO;VALOR_ATUAL;VALOR_ANTERIOR;JUROS;MULTA;DESCONTO;VAL_DESCONTO;VENCTO_INICIAL;DT_PROX_REAJ;DT_REAJ_ANT;OBS;EMAIL;ID_IMOVEL;CODIGO_IMOVEL;PROPRIETARIO_NOME;ID_LOCATARIO;LOCATARIO;COMISSAO;COMISSAO13;TAXA_CONTR;DIA_PCP;ALUG_GARANTI;FIADORES\n";

for (<$input>) {
    my ($value) = (m/>(\w+)</);
    if (m/id_localisation/) { $loca = $value; }
    if (m/id_client/)       { print "$loca;$value;"; }
    if (m/key/)             { print "$value\n"; }
}
close($input);